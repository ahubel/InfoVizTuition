<!DOCTYPE html>
<html>
<head>
	<title>Tuition Dashboard</title>
	<link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
	<style>
	#xaxis, #yaxis .domain {
		fill:black;
		stroke:1px;
	}
	#xaxis text {
		font-size: 10px;
	}

	#yaxis text {
		font-size: 16px;
		font-family: "Oswald";
	}

	#expend {
		margin-left: 150px;
		display: inline-block;
		width: 450px;
		margin-left: 20px;
	}

	#chars {
		display: inline-block;
		vertical-align: top;
		width: 250px;
		height: 500px;
	}

	#revenue {
		margin-left: 20px;
		display: inline-block;
		width: 450px;
	}

	.ulogo{
		width: 50px;
		height: 50px;
		display: block;
		margin: auto;
		margin-top: 30px;
	}

	.ulogoframe {
		height: 60px;
	}

	.tuitionframe {
		height: 60px;
	}

	.enrollmentframe {
		height: 60px;
	}

	.personframe {
		height: 60px;
	}

	.then{
		color: gray;
		font-family: tahoma;
		font-size: 14px;
		text-align: center;
		margin-bottom: 0px;
	}

	.now{
		color: blue;
		font-family: tahoma;
		font-size: 14px;
		text-align: center;
		margin-bottom: 0px;
		margin-top: 0px;
	}

	#university {
		margin-left: 300px;
	}

	#nowdata {
		font-family: "Oswald"; 
	}


	#thendata {
		font-family: "Oswald"; 
	}	

	.charlabel{
		font-family: "Oswald";
		font-size: 18px;
		text-align: center;
		margin-bottom: 5px;
	}

	.schoolname{
		width: 248px;
		height: 100px;
		font-family: "Oswald";
		text-align: center;
		font-size: 24px;
	}

	.chartheader{
		font-family: "Oswald";
		text-align: center;
		font-size: 40px;
		color: gray;
	}

	.tuition13,
	.tuition93,
	.enroll13,
	.enroll93,
	.acad13,
	.acad93 {
		font-family: "Oswald";
	}

	.tuition93,
	.enroll93,
	.acad93 {
		color: gray;
	}

	.tuition13,
	.enroll13,
	.acad13 {
		color: blue;
	}

	</style>
</head>
<body>
	<fieldset>
	    <label for="university">Select University</label>
	    <select name="university" id="university">
	    </select>
	</fieldset>
	<div id="revenue">
		<h1 class="chartheader">REVENUES</h1>
	</div>
	<div id="chars">

		<svg id="schoolname"></svg>
		<svg class="ulogoframe"></svg>
		<h4 class="charlabel">Tuition (Yearly)</h4>
		<svg class="tuitionframe"></svg>
<!-- 		<p class="now" id="tuit13">40,890</p>
		<p class="then" id="tuit93">28,230</p> -->
		<h4 class="charlabel">Enrollment</h4>
		<svg class="enrollmentframe"></svg>
<!-- 		<p class="now" id="tuit13">4,900</p>
		<p class="then" id="tuit93">4,600</p> -->
		<h4 class="charlabel">Percent Instructional Personnel</h4>
		<svg class="personframe"></svg>
<!-- 		<p class="now" id="pct13">60</p>
		<p class="then" id="pct93">72</p> -->
	</div>
	<div id="expend">
		<h1 class="chartheader">EXPENDITURES</h1>
	</div>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>


	<script>

	</script>

	<script>

		d3.csv("centerdata.csv", function(data){
			console.log(data[0][0]);

			var ulogo = d3.select(".ulogoframe")
				.selectAll("image")
				.data(data)
				.enter()
			    .append("svg:image")
		        .attr("xlink:href", data[1][0])
		        .attr("class","ulogo")
		        .attr("height",50)
		        .attr("width",50)
		        .attr("x",100)
		        .attr("y",10);

		    var utitle = d3.select("#schoolname")
		    	.selectAll("text")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","schoolname")
		    	.attr("x",124)
		    	.attr("y",130)
		    	.text(data[0][0])
		    	.style("text-anchor","middle");

		    var tuition13 = d3.select(".tuitionframe")
		    	.selectAll("tuition13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","tuition13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(data[10][0])
		    	.style("text-anchor","middle")
		    	.style("fill","blue");

		    var tuition93 = d3.select(".tuitionframe")
		    	.selectAll("tuition93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","tuition93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(data[6][0])
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var enroll13 = d3.select(".enrollmentframe")
		    	.selectAll("enroll13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","enroll13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(data[7][0])
		    	.style("text-anchor","middle")
		    	.style("fill","blue");;

		    var enroll93 = d3.select(".enrollmentframe")
		    	.selectAll("enroll93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","enroll93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(data[3][0])
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var make_percent = d3.format("%")

		    var person93 = d3.select(".personframe")
		    	.selectAll("acad93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","acad93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(make_percent(Number(data[4][0])/(Number(data[4][0])+Number(data[5][0]))))
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var person13 = d3.select(".personframe")
		    	.selectAll("acad13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","acad13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(make_percent(Number(data[8][0])/(Number(data[8][0])+Number(data[9][0]))))
		    	.style("text-anchor","middle")
		    	.style("fill","blue");;

		        
		});


		function updateCenter(n) { 

			d3.select(".ulogoframe")
				.selectAll(".ulogo")
				.remove();

			d3.select("#schoolname")
				.selectAll(".schoolname")
				.remove();

			d3.select(".tuitionframe")
				.selectAll(".tuition13")
				.remove();

			d3.select(".tuitionframe")
				.selectAll(".tuition93")
				.remove();

			d3.select(".enrollmentframe")
				.selectAll(".enroll93")
				.remove();

			d3.select(".enrollmentframe")
				.selectAll(".enroll13")
				.remove();

			d3.select(".personframe")
				.selectAll(".acad93")
				.remove();

			d3.select(".personframe")
				.selectAll(".acad13")
				.remove();


		d3.csv("centerdata.csv", function(data){

			var ulogo = d3.select(".ulogoframe")
				.selectAll("image")
				.data(data)
				.enter()
			    .append("svg:image")
		        .attr("xlink:href", data[1][n])
		        .attr("class","ulogo")
		        .attr("height",50)
		        .attr("width",50)
		        .attr("x",100)
		        .attr("y",10);

		    var utitle = d3.select("#schoolname")
		    	.selectAll("text")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","schoolname")
		    	.attr("x",124)
		    	.attr("y",130)
		    	.text(data[0][n])
		    	.style("text-anchor","middle");

		    var tuition13 = d3.select(".tuitionframe")
		    	.selectAll("tuition13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","tuition13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(data[10][n])
		    	.style("text-anchor","middle")
		    	.style("fill","blue");;

		    var tuition93 = d3.select(".tuitionframe")
		    	.selectAll("tuition93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","tuition93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(data[6][n])
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var enroll13 = d3.select(".enrollmentframe")
		    	.selectAll("enroll13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","enroll13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(data[7][n])
		    	.style("text-anchor","middle")
		    	.style("fill","blue");;

		    var enroll93 = d3.select(".enrollmentframe")
		    	.selectAll("enroll93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","enroll93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(data[3][n])
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var make_percent = d3.format("%")

		    var person93 = d3.select(".personframe")
		    	.selectAll("acad93")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","acad93")
		    	.attr("x",124)
		    	.attr("y",45)
		    	.text(make_percent(Number(data[4][n])/(Number(data[4][n])+Number(data[5][n]))))
		    	.style("text-anchor","middle")
		    	.style("fill","gray");

		    var person13 = d3.select(".personframe")
		    	.selectAll("acad13")
		    	.data(data)
		    	.enter()
		    	.append("text")
		    	.attr("class","acad13")
		    	.attr("x",124)
		    	.attr("y",15)
		    	.text(make_percent(Number(data[8][n])/(Number(data[8][n])+Number(data[9][n]))))
		    	.style("text-anchor","middle")
		    	.style("fill","blue");

		}
		)};

	</script>


	<script>
		// Read csv and add universities for the dropdown menu
		d3.csv("universities.csv", function(data){
		    _.forEach(data, function(element) {
		    	console.log(element)
		        d3.select("#university").append("option").attr("value", element.value).text(element.name);
		    });   
		});

		var categories= ['Instruction', 'Administration', 'Scholarships','Research', 'Other'];


		var width = 450,
			height = 500;

		var grid = d3.range(11).map(function(i){
			return {'x1':0,'y1':0,'x2':0,'y2':480};
		});

		// var tickVals = grid.map(function(d,i){
		// 	if(i>0){ return i*20; }
		// 	else if(i===0){ return "100";}
		// });
		
		function getMillion(n) {
		    var scale = n / 1000000;
		    var format, scalef;
		    
		    if (scale >= 100) {
		        format = d3.format(",");
		        scalef = format(d3.round(scale));
		    } else if (scale >= 0.01) {
		        format = d3.format(".2f");
		        scalef = format(scale);
		    } else {
		        scalef = 0;
		    }
		    return scalef + "M"
		}


		var canvas = d3.select('#expend')
						.append('svg')
						.attr({'width':width,'height':height});

		d3.csv('exp_data.csv', function(data){
				console.log(data[4].AmericanUniversity93);

			
				var xscale = d3.scale.linear()
								.domain([0,207811000])
								.range([0,width-135]);
								
				var yscale = d3.scale.linear()
								.domain([0,5])
								.range([60,(height-20)]);



				var	xAxis = d3.svg.axis();
					xAxis
						.orient('bottom')
						.scale(xscale)
						.tickSize(1)
						.ticks(2)
						.tickFormat(d3.format("s"));

						// .tickValues(tickVals);

				var	yAxis = d3.svg.axis();
					yAxis
						.orient('left')
						.scale(yscale)
						.tickSize(0)
						.tickFormat(function(d,i){return categories[i]; })
						.tickValues(d3.range(20));

				var y_xis = canvas.append('g')
								  .attr("transform", "translate(100,5)")
								  .attr('id','yaxis')
								  .call(yAxis);

				var x_xis = canvas.append('g')
								  .attr("transform", "translate(100,480)")
								  .attr('id','xaxis')
								  .call(xAxis);

				var chartnow = canvas.append('g')
									.attr("transform", "translate(100,0)")
									.attr('id','nowdata')
									.selectAll('rect')
									.data(data)
									.enter()
									.append('rect')
									.attr('height',19)
									.attr({'x':0,'y':function(d,i){ return yscale(i)-19; }})
									.style('fill','blue')
									.attr("width", function(d) {return xscale(+d.AmericanUniversity13); });

				var chartthen = canvas.append('g')
									.attr("transform", "translate(100,0)")
									.attr('id','thendata')
									.selectAll('rect')
									.data(data)
									.enter()
									.append('rect')
									.attr('height',19)
									.attr({'x':0,'y':function(d,i){ return yscale(i); }})
									.style('fill','gray')
									.attr("width", function(d) {return xscale(+d.AmericanUniversity93); });


				// var transit = d3.select("svg").selectAll("rect")
				// 				    .data(dollars)
				// 				    .transition()
				// 				    .duration(1000) 
				// 				    .attr("width", function(d) {return xscale(d); });

				var transitext = d3.select('#nowdata')
									.selectAll('text')
									.data(data)
									.enter()
									.append('text')
									.attr({'x':function(d) {return xscale(d.AmericanUniversity13)+10; },'y':function(d,i){ return yscale(i)-5; }})
									.text(function(d){ return "$"+getMillion(d.AmericanUniversity13); }).style({'fill':'#000','font-size':'12px'});

				var transitext = d3.select('#thendata')
									.selectAll('text')
									.data(data)
									.enter()
									.append('text')
									.attr({'x':function(d) {return xscale(d.AmericanUniversity93)+10; },'y':function(d,i){ return yscale(i)+14; }})
									.text(function(d){ return "$"+getMillion(d.AmericanUniversity93); }).style({'fill':'#000','font-size':'12px'});

		});


			function updateExp(then,now) {

				d3.csv('exp_data.csv', function(data){
						// console.log(data[4][then]);
						// console.log(then);
						// console.log(now);
					
					var xmax = d3.max(data, function(d) { return +d[now]; });

					var xscale = d3.scale.linear()
									.domain([0, xmax*1.3])
									.range([0,300]);

					var yscale = d3.scale.linear()
									.domain([0,5])
									.range([60,(height-20)]);

					var canvas = d3.select("#expend").transition();


					var	xAxis = d3.svg.axis();
						xAxis
							.orient('bottom')
							.scale(xscale)
							.ticks(2)
							.tickFormat(d3.format("s"))
							.tickSize(1);

					var	yAxis = d3.svg.axis();
						yAxis
							.orient('right')
							.scale(yscale)
							.tickSize(0)
							.tickFormat(function(d,i){ return categories2[i]; })
							.tickValues(d3.range(10));


					canvas.select('#xaxis')
										.duration(750)
									    // .attr("transform", "translate(0,480)")
									    // .attr('id','xaxis')
									    .call(xAxis);

					canvas.select('#nowdata')
										.duration(750)
										.selectAll("rect")
										// .attr("transform", "translate(30,40)")
										.attr({'x':0,'y':function(d,i){ return yscale(i)-19; }})
										// .attr("width", ((width-135) - xscale(+data[now])))
										.attr("width", function(d) {return xscale(+d[now]); });

					canvas.select('#thendata')
										.duration(750)
										.selectAll("rect")
										// .attr("transform", "translate(30,40)")
										.attr({'x':0,'y':function(d,i){ return yscale(i); }})
										// .attr("width", ((width-135) - xscale(+data[now])))
										.attr("width", function(d) {return xscale(+d[then]); });

					canvas.select('#nowdata')
										.selectAll("text")
										.attr({'x':function(d) {return xscale(+d[now])+10;},'y':function(d,i){ return yscale(i)-5; }})
										.text(function(d){ return "$"+getMillion(d[now]); });

					canvas.select('#thendata')
										.selectAll("text")
										.attr({'x':function(d) {return xscale(+d[then])+10;},'y':function(d,i){ return yscale(i)+14; }})
										.text(function(d){ return "$"+getMillion(d[then]); });

				});
			}									

	</script>








	<script>

		var categories2= ['Tuition','Government','Gifts','Endowment','Other'];


		var width = 450,
			height = 500;

		var canvas2 = d3.select('#revenue')
						.append('svg')
						.attr({'width':width,'height':height});


		// var grid = d3.range(10).map(function(i){
		// 	return {'x1':(width-135),'y1':0,'x2':(width-135),'y2':480};
		// });

		// var tickVals = grid.map(function(d,i){
		// 	if(i>0){ return i*20; }
		// 	else if(i===0){ return "100";}
		// });

			d3.csv('rev_data.csv', function(data){
					// console.log(data[4].then);
					// console.log(then);
					// console.log(now);

					var xscale = d3.scale.linear()
									.domain([0,495259000])
									.range([(width-135),0]);

					var yscale = d3.scale.linear()
									.domain([0,5])
									.range([60,(height-20)]);


					var	xAxis = d3.svg.axis();
						xAxis
							.orient('bottom')
							.scale(xscale)
							.tickSize(1)
							.ticks(2);
							// .tickValues(tickVals);

					var	yAxis = d3.svg.axis();
						yAxis
							.orient('right')
							.scale(yscale)
							.tickSize(0)
							.tickFormat(function(d,i){ return categories2[i]; })
							.tickValues(d3.range(10));



					var x_xis = canvas2.append('g')
									  .attr("transform", "translate(0,480)")
									  .attr('id','xaxis')
									  .call(xAxis);

					var chartnow = canvas2.append('g')
										.attr("transform", "translate(0,0)")
										.attr('id','nowdata')
										.selectAll('rect')
										.data(data)
										.enter()
										.append('rect')
										.attr('height',19)
										.attr({'x':function(d) {return xscale(+d.AmericanUniversity13)+0;},'y':function(d,i){ return yscale(i)-19; }})
										.style('fill','blue')
										.attr("width", function(d) {return (width-135) - xscale(+d.AmericanUniversity13); });

					var chartthen = canvas2.append('g')
										.attr("transform", "translate(0,0)")
										.attr('id','thendata')
										.selectAll('rect')
										.data(data)
										.enter()
										.append('rect')
										.attr('height',19)
										.attr({'x':function(d) { return xscale(+d.AmericanUniversity93)+0;},'y':function(d,i){ return yscale(i); }})
										.style('fill','gray')
										.attr("width", function(d) {return (width-135) - xscale(+d.AmericanUniversity93); });

					var y_xis = canvas2.append('g')
									    .attr("transform", "translate(315,5)")
									    .attr('id','yaxis')
									    .call(yAxis);


					// var transit = d3.select("svg").selectAll("rect")
					// 				    .data(dollars2)
					// 				    // .transition()
					// 				    // .duration(1000) 
					// 				    .attr("width", function(d) {return xscale(d); });

					var transitext = d3.select('#nowdata')
										.selectAll('text')
										.data(data)
										.enter()
										.append('text')
										.attr({'x':function(d) {console.log(d.AmericanUniversity13); return xscale(+d.AmericanUniversity13)-10;},'y':function(d,i){ return yscale(i)-5; }})
										.text(function(d){ return "$"+getMillion(d.AmericanUniversity13); })
										.style({'fill':'#000','font-size':'12px','text-anchor':'end'});


					var transitext = d3.select('#thendata')
										.selectAll('text')
										.data(data)
										.enter()
										.append('text')
										.attr({'x':function(d) {return xscale(+d.AmericanUniversity93)-10; },'y':function(d,i){ return yscale(i)+14; }})
										.text(function(d){ return "$"+getMillion(d.AmericanUniversity93); }).style({'fill':'#000','font-size':'12px', 'text-anchor':'end'});

			});

			function updateRev(then,now) {

				d3.csv('rev_data.csv', function(data){
						// console.log(data[4][then]);
						// console.log(then);
						// console.log(now);

					var xmax = d3.max(data, function(d) { return +d[now]; });
					
					var xscale = d3.scale.linear()
									.domain([0,xmax*1.3])
									.range([(width-135),0]);

					var yscale = d3.scale.linear()
									.domain([0,5])
									.range([60,(height-20)]);

					var canvas2 = d3.select("#revenue").transition();


					var	xAxis = d3.svg.axis();
						xAxis
							.orient('bottom')
							.scale(xscale)
							.ticks(2)
							.tickFormat(d3.format("s"))
							.tickSize(1);
							// .tickValues(tickVals);

					// var	yAxis = d3.svg.axis();
					// 	yAxis
					// 		.orient('right')
					// 		.scale(yscale)
					// 		.tickSize(0)
					// 		.tickFormat(function(d,i){ return categories2[i]; })
					// 		.tickValues(d3.range(10));


					// var x_xis = canvas2.append('g')
					// 				  .attr("transform", "translate(0,480)")
					// 				  .attr('id','xaxis')
					// 				  .call(xAxis);

					canvas2.select('#xaxis')
										.duration(750)
									    // .attr("transform", "translate(0,480)")
									    // .attr('id','xaxis')
									    .call(xAxis);

					canvas2.select('#nowdata')
										.duration(750)
										.selectAll("rect")
										// .attr("transform", "translate(30,40)")
										.attr({'x':function(d) {return xscale(+d[now])+0;},'y':function(d,i){ return yscale(i)-19; }})
										// .attr("width", ((width-135) - xscale(+data[now])))
										.attr("width", function(d) {return (width-135) - xscale(+d[now]); });

					canvas2.select('#thendata')
										.duration(750)
										.selectAll("rect")
										// .attr("transform", "translate(30,40)")
										.attr({'x':function(d) {return xscale(+d[then])+0;},'y':function(d,i){ return yscale(i); }})
										// .attr("width", ((width-135) - xscale(+data[now])))
										.attr("width", function(d) {return (width-135) - xscale(+d[then]); });

					canvas2.select('#nowdata')
										.selectAll("text")
										.attr({'x':function(d) {console.log(d[now]); return xscale(+d[now])-10;},'y':function(d,i){ return yscale(i)-5; }})
										.text(function(d){ return "$"+getMillion(d[now]); });

					canvas2.select('#thendata')
										.selectAll("text")
										.attr({'x':function(d) {return xscale(+d[then])-10; },'y':function(d,i){ return yscale(i)+14; }})
										.text(function(d){ return "$"+getMillion(d[then]); });



					// var y_xis = canvas2.append('g')
					// 				    .attr("transform", "translate(315,5)")
					// 				    .attr('id','yaxis')
					// 				    .call(yAxis);


					// var transit = d3.select("svg").selectAll("rect")
					// 				    .data(dollars2)
					// 				    // .transition()
					// 				    // .duration(1000) 
					// 				    .attr("width", function(d) {return xscale(d); });

					// var transitext = d3.select('#nowdata')
					// 					.selectAll('text')
					// 					.data(data)
					// 					.enter()
					// 					.append('text')
					// 					.attr({'x':function(d) {console.log(d[now]); return xscale(+d[now])-10;},'y':function(d,i){ return yscale(i)+14; }})
					// 					.text(function(d){ return "$"+d[now]; })
					// 					.style({'fill':'#000','font-size':'12px','text-anchor':'end'});


					// var transitext = d3.select('#thendata')
					// 					.selectAll('text')
					// 					.data(data)
					// 					.enter()
					// 					.append('text')
					// 					.attr({'x':function(d) {return xscale(+d[then])-10; },'y':function(d,i){ return yscale(i)-5; }})
					// 					.text(function(d){ return "$"+d[then]; }).style({'fill':'#000','font-size':'12px', 'text-anchor':'end'});

				});
			}
		


	</script>

	<script type="text/javascript">
		
	</script>

	<script>

		var schoolindex=[[0, 'AmericanUniversity93', 'AmericanUniversity13'], [1, 'AmherstCollege93', 'AmherstCollege13'], [2, 'BardCollege93', 'BardCollege13'], [3, 'BarnardCollege93', 'BarnardCollege13'], [4, 'BatesCollege93', 'BatesCollege13'], [5, 'BaylorUniversity93', 'BaylorUniversity13'], [6, 'BeloitCollege93', 'BeloitCollege13'], [7, 'BenningtonCollege93', 'BenningtonCollege13'], [8, 'BentleyUniversity93', 'BentleyUniversity13'], [9, 'BostonCollege93', 'BostonCollege13'], [10, 'BostonUniversity93', 'BostonUniversity13'], [11, 'BowdoinCollege93', 'BowdoinCollege13'], [12, 'BrandeisUniversity93', 'BrandeisUniversity13'], [13, 'BrighamYoungUniversityProvo93', 'BrighamYoungUniversityProvo13'], [14, 'BrownUniversity93', 'BrownUniversity13'], [15, 'BrynMawrCollege93', 'BrynMawrCollege13'], [16, 'CaliforniaInstituteofTechnology93', 'CaliforniaInstituteofTechnology13'], [17, 'CaliforniaPolytechnicStateUniversitySanLuisObispo93', 'CaliforniaPolytechnicStateUniversitySanLuisObispo13'], [18, 'CarletonCollege93', 'CarletonCollege13'], [19, 'CarnegieMellonUniversity93', 'CarnegieMellonUniversity13'], [20, 'CaseWesternReserveUniversity93', 'CaseWesternReserveUniversity13'], [21, 'CentreCollege93', 'CentreCollege13'], [22, 'ClarkUniversity93', 'ClarkUniversity13'], [23, 'ClemsonUniversity93', 'ClemsonUniversity13'], [24, 'ColbyCollege93', 'ColbyCollege13'], [25, 'ColgateUniversity93', 'ColgateUniversity13'], [26, 'CollegeoftheAtlantic93', 'CollegeoftheAtlantic13'], [27, 'CollegeoftheHolyCross93', 'CollegeoftheHolyCross13'], [28, 'CollegeoftheOzarks93', 'CollegeoftheOzarks13'], [29, 'CollegeofWilliamandMary93', 'CollegeofWilliamandMary13'], [30, 'ColoradoCollege93', 'ColoradoCollege13'], [31, 'ColoradoSchoolofMines93', 'ColoradoSchoolofMines13'], [32, 'ColumbiaUniversityintheCityofNewYork93', 'ColumbiaUniversityintheCityofNewYork13'], [33, 'ConnecticutCollege93', 'ConnecticutCollege13'], [34, 'CooperUnionfortheAdvancementofScienceandArt93', 'CooperUnionfortheAdvancementofScienceandArt13'], [35, 'CornellUniversity93', 'CornellUniversity13'], [36, 'CreightonUniversity93', 'CreightonUniversity13'], [37, 'DartmouthCollege93', 'DartmouthCollege13'], [38, 'DavidsonCollege93', 'DavidsonCollege13'], [39, 'DenisonUniversity93', 'DenisonUniversity13'], [40, 'DePauwUniversity93', 'DePauwUniversity13'], [41, 'DickinsonCollege93', 'DickinsonCollege13'], [42, 'DrakeUniversity93', 'DrakeUniversity13'], [43, 'DukeUniversity93', 'DukeUniversity13'], [44, 'EarlhamCollege93', 'EarlhamCollege13'], [45, 'ElonUniversity93', 'ElonUniversity13'], [46, 'FordhamUniversity93', 'FordhamUniversity13'], [47, 'FranklinandMarshallCollege93', 'FranklinandMarshallCollege13'], [48, 'FurmanUniversity93', 'FurmanUniversity13'], [49, 'GeorgeWashingtonUniversity93', 'GeorgeWashingtonUniversity13'], [50, 'GeorgetownUniversity93', 'GeorgetownUniversity13'], [51, 'GeorgiaInstituteofTechnologyMainCampus93', 'GeorgiaInstituteofTechnologyMainCampus13'], [52, 'GettysburgCollege93', 'GettysburgCollege13'], [53, 'GrinnellCollege93', 'GrinnellCollege13'], [54, 'HamiltonCollege93', 'HamiltonCollege13'], [55, 'HampdenSydneyCollege93', 'HampdenSydneyCollege13'], [56, 'HampshireCollege93', 'HampshireCollege13'], [57, 'HarvardUniversity93', 'HarvardUniversity13'], [58, 'HarveyMuddCollege93', 'HarveyMuddCollege13'], [59, 'HaverfordCollege93', 'HaverfordCollege13'], [60, 'HendrixCollege93', 'HendrixCollege13'], [61, 'HobartWilliamSmithColleges93', 'HobartWilliamSmithColleges13'], [62, 'HopeCollege93', 'HopeCollege13'], [63, 'IndianaUniversityBloomington93', 'IndianaUniversityBloomington13'], [64, 'JamesMadisonUniversity93', 'JamesMadisonUniversity13'], [65, 'JohnsHopkinsUniversity93', 'JohnsHopkinsUniversity13'], [66, 'JuniataCollege93', 'JuniataCollege13'], [67, 'KalamazooCollege93', 'KalamazooCollege13'], [68, 'KenyonCollege93', 'KenyonCollege13'], [69, 'KnoxCollege93', 'KnoxCollege13'], [70, 'LafayetteCollege93', 'LafayetteCollege13'], [71, 'LawrenceUniversity93', 'LawrenceUniversity13'], [72, 'LehighUniversity93', 'LehighUniversity13'], [73, 'Lewis&ClarkCollege93', 'Lewis&ClarkCollege13'], [74, 'LoyolaMarymountUniversity93', 'LoyolaMarymountUniversity13'], [75, 'LoyolaUniversityMaryland93', 'LoyolaUniversityMaryland13'], [76, 'MacalesterCollege93', 'MacalesterCollege13'], [77, 'ManhattanCollege93', 'ManhattanCollege13'], [78, 'MassachusettsInstituteofTechnology93', 'MassachusettsInstituteofTechnology13'], [79, 'MiamiUniversityOxford93', 'MiamiUniversityOxford13'], [80, 'MichiganStateUniversity93', 'MichiganStateUniversity13'], [81, 'MiddleburyCollege93', 'MiddleburyCollege13'], [82, 'MountHolyokeCollege93', 'MountHolyokeCollege13'], [83, 'MuhlenbergCollege93', 'MuhlenbergCollege13'], [84, 'NewYorkUniversity93', 'NewYorkUniversity13'], [85, 'NorthCarolinaStateUniversityatRaleigh93', 'NorthCarolinaStateUniversityatRaleigh13'], [86, 'NorthwesternUniversity93', 'NorthwesternUniversity13'], [87, 'OberlinCollege93', 'OberlinCollege13'], [88, 'OccidentalCollege93', 'OccidentalCollege13'], [89, 'OhioStateUniversityMainCampus93', 'OhioStateUniversityMainCampus13'], [90, 'OhioWesleyanUniversity93', 'OhioWesleyanUniversity13'], [91, 'PennsylvaniaStateUniversityMainCampus93', 'PennsylvaniaStateUniversityMainCampus13'], [92, 'PepperdineUniversity93', 'PepperdineUniversity13'], [93, 'PitzerCollege93', 'PitzerCollege13'], [94, 'PomonaCollege93', 'PomonaCollege13'], [95, 'PresbyterianCollege93', 'PresbyterianCollege13'], [96, 'PrincetonUniversity93', 'PrincetonUniversity13'], [97, 'ProvidenceCollege93', 'ProvidenceCollege13'], [98, 'PurdueUniversityMainCampus93', 'PurdueUniversityMainCampus13'], [99, 'ReedCollege93', 'ReedCollege13'], [100, 'RensselaerPolytechnicInstitute93', 'RensselaerPolytechnicInstitute13'], [101, 'RhodesCollege93', 'RhodesCollege13'], [102, 'RiceUniversity93', 'RiceUniversity13'], [103, 'SaintAnselmCollege93', 'SaintAnselmCollege13'], [104, 'SaintLouisUniversity93', 'SaintLouisUniversity13'], [105, "SaintMichael'sCollege93", "SaintMichael'sCollege13"], [106, 'SantaClaraUniversity93', 'SantaClaraUniversity13'], [107, 'SarahLawrenceCollege93', 'SarahLawrenceCollege13'], [108, 'ScrippsCollege93', 'ScrippsCollege13'], [109, 'SewaneeTheUniversityoftheSouth93', 'SewaneeTheUniversityoftheSouth13'], [110, 'SkidmoreCollege93', 'SkidmoreCollege13'], [111, 'SmithCollege93', 'SmithCollege13'], [112, 'SouthernMethodistUniversity93', 'SouthernMethodistUniversity13'], [113, 'SouthwesternUniversity93', 'SouthwesternUniversity13'], [114, "StJohn'sCollege93", "StJohn'sCollege13"], [115, 'StLawrenceUniversity93', 'StLawrenceUniversity13'], [116, 'StOlafCollege93', 'StOlafCollege13'], [117, 'StanfordUniversity93', 'StanfordUniversity13'], [118, 'SUNYatBinghamton93', 'SUNYatBinghamton13'], [119, 'SwarthmoreCollege93', 'SwarthmoreCollege13'], [120, 'SyracuseUniversity93', 'SyracuseUniversity13'], [121, 'TexasA&MUniversityCollegeStation93', 'TexasA&MUniversityCollegeStation13'], [122, 'TheCollegeofWooster93', 'TheCollegeofWooster13'], [123, 'TheUniversityofTexasatAustin93', 'TheUniversityofTexasatAustin13'], [124, 'TransylvaniaUniversity93', 'TransylvaniaUniversity13'], [125, 'TrinityCollege93', 'TrinityCollege13'], [126, 'TrinityUniversity93', 'TrinityUniversity13'], [127, 'TuftsUniversity93', 'TuftsUniversity13'], [128, 'TulaneUniversityofLouisiana93', 'TulaneUniversityofLouisiana13'], [129, 'UnionCollege93', 'UnionCollege13'], [130, 'UnitedStatesAirForceAcademy93', 'UnitedStatesAirForceAcademy13'], [131, 'UnitedStatesCoastGuardAcademy93', 'UnitedStatesCoastGuardAcademy13'], [132, 'UnitedStatesMilitaryAcademy93', 'UnitedStatesMilitaryAcademy13'], [133, 'UnitedStatesNavalAcademy93', 'UnitedStatesNavalAcademy13'], [134, 'UniversityofCaliforniaBerkeley93', 'UniversityofCaliforniaBerkeley13'], [135, 'UniversityofCaliforniaDavis93', 'UniversityofCaliforniaDavis13'], [136, 'UniversityofCaliforniaIrvine93', 'UniversityofCaliforniaIrvine13'], [137, 'UniversityofCaliforniaLosAngeles93', 'UniversityofCaliforniaLosAngeles13'], [138, 'UniversityofCaliforniaSanDiego93', 'UniversityofCaliforniaSanDiego13'], [139, 'UniversityofCaliforniaSantaBarbara93', 'UniversityofCaliforniaSantaBarbara13'], [140, 'UniversityofChicago93', 'UniversityofChicago13'], [141, 'UniversityofColoradoBoulder93', 'UniversityofColoradoBoulder13'], [142, 'UniversityofConnecticut93', 'UniversityofConnecticut13'], [143, 'UniversityofDelaware93', 'UniversityofDelaware13'], [144, 'UniversityofDenver93', 'UniversityofDenver13'], [145, 'UniversityofFlorida93', 'UniversityofFlorida13'], [146, 'UniversityofGeorgia93', 'UniversityofGeorgia13'], [147, 'UniversityofIllinoisatUrbanaChampaign93', 'UniversityofIllinoisatUrbanaChampaign13'], [148, 'UniversityofIowa93', 'UniversityofIowa13'], [149, 'UniversityofMarylandCollegePark93', 'UniversityofMarylandCollegePark13'], [150, 'UniversityofMiami93', 'UniversityofMiami13'], [151, 'UniversityofMichiganAnnArbor93', 'UniversityofMichiganAnnArbor13'], [152, 'UniversityofMinnesotaTwinCities93', 'UniversityofMinnesotaTwinCities13'], [153, 'UniversityofNewHampshireMainCampus93', 'UniversityofNewHampshireMainCampus13'], [154, 'UniversityofNorthCarolinaatChapelHill93', 'UniversityofNorthCarolinaatChapelHill13'], [155, 'UniversityofNotreDame93', 'UniversityofNotreDame13'], [156, 'UniversityofPennsylvania93', 'UniversityofPennsylvania13'], [157, 'UniversityofPittsburghPittsburghCampus93', 'UniversityofPittsburghPittsburghCampus13'], [158, 'UniversityofPortland93', 'UniversityofPortland13'], [159, 'UniversityofPugetSound93', 'UniversityofPugetSound13'], [160, 'UniversityofRichmond93', 'UniversityofRichmond13'], [161, 'UniversityofRochester93', 'UniversityofRochester13'], [162, 'UniversityofSouthCarolinaColumbia93', 'UniversityofSouthCarolinaColumbia13'], [163, 'UniversityofSouthernCalifornia93', 'UniversityofSouthernCalifornia13'], [164, 'UniversityofUtah93', 'UniversityofUtah13'], [165, 'UniversityofVermont93', 'UniversityofVermont13'], [166, 'UniversityofVirginiaMainCampus93', 'UniversityofVirginiaMainCampus13'], [167, 'UniversityofWashingtonSeattleCampus93', 'UniversityofWashingtonSeattleCampus13'], [168, 'UniversityofWisconsinMadison93', 'UniversityofWisconsinMadison13'], [169, 'UniversityofWyoming93', 'UniversityofWyoming13'], [170, 'UrsinusCollege93', 'UrsinusCollege13'], [171, 'VanderbiltUniversity93', 'VanderbiltUniversity13'], [172, 'VassarCollege93', 'VassarCollege13'], [173, 'VillanovaUniversity93', 'VillanovaUniversity13'], [174, 'VirginiaMilitaryInstitute93', 'VirginiaMilitaryInstitute13'], [175, 'VirginiaPolytechnicInstituteandStateUniversity93', 'VirginiaPolytechnicInstituteandStateUniversity13'], [176, 'WabashCollege93', 'WabashCollege13'], [177, 'WakeForestUniversity93', 'WakeForestUniversity13'], [178, 'WashingtonandLeeUniversity93', 'WashingtonandLeeUniversity13'], [179, 'WashingtonUniversityinStLouis93', 'WashingtonUniversityinStLouis13'], [180, 'WellesleyCollege93', 'WellesleyCollege13'], [181, 'WesleyanUniversity93', 'WesleyanUniversity13'], [182, 'WestmontCollege93', 'WestmontCollege13'], [183, 'WheatonCollege93', 'WheatonCollege93'], [184, 'WheatonCollege13', 'WheatonCollege13'], [185, 'WhitmanCollege93', 'WhitmanCollege13'], [186, 'WillametteUniversity93', 'WillametteUniversity13'], [187, 'WilliamsCollege93', 'WilliamsCollege13'], [188, 'WoffordCollege93', 'WoffordCollege13'], [189, 'WorcesterPolytechnicInstitute93', 'WorcesterPolytechnicInstitute13'], [190, 'YaleUniversity93', 'YaleUniversity13'], [191, 'YeshivaUniversity93', 'YeshivaUniversity13']];

		function updateData(sch) {
			for (i=0; i<schoolindex.length; i++) {
				
				if (schoolindex[i][0] == sch) {
					console.log(schoolindex[i][1]);
					updateRev(schoolindex[i][1],schoolindex[i][2]);
					updateExp(schoolindex[i][1],schoolindex[i][2]);
					updateCenter(schoolindex[i][0]);
					// updateExp(i[1],i[2]);
				}
			}
		};

		$('#university').on('change', function() {
			  var school_index_value = this.value;
			  updateData(school_index_value);
			  // alert school_index_value;
			});

	</script>

</body>
</html>